Title: 2018-04-30
Date: 2018-04-30 07:14
Tags: journal, bluetooth, arduino, hardware, android

I got it in my head to work on the environmental sensors I've had in my head
for a while, but with a caveat: I wouldn't buy any new hardware until I had
a working prototype or technology demonstrator. Fortunately, I was able to
borrow an unused hardware platform from a friend of mine.

The basic idea is this: a variety of self-contained sensors broadcast
measurements, and I can use both a Raspberry Pi in my house to pick up
those broadcasts and store them, as well as use my phone to check in on
the state of things.

The demonstrator platform is an Adafruit nRF52 feather board, which can be
programmed with the Arduino IDE (but not PlatformIO yet, unfortunately). I've
got a working beacon on it, but now I run into some of the challenges I need
to sort out.

The first challenge is the size limitation of a beacon: 16 bytes as the ID
field. I don't know how I'm going to fit multiple sensor readings in that; I
still need to write up a quick experiment to play with sizing. There's apparently
an additional 27 bytes that can be sent as an advertising response, but this has
to be explicitly requested.

The second challenge has been getting this working from Android. The ketai
library has Bluetooth support, but it looks like it's limited to connected
devices, not advertising devices.

I'm not sure that BLE is the right approach now, and might have to look into
LoRa.